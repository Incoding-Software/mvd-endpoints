
#import "FakeRequest.h"
#import "Response.h"
#import "FakeTask.h"
#import "IncodingHelper.h"

@implementation FakeTask: NSObject
-(id)initWithRequest:(FakeRequest *)request
{
    self.request = request;
    return self;
}

-(void)on:(SuccessFakeTask)success
{
    IncodingHelper *helper = [IncodingHelper init];
    [helper execute: [self.request asString] type:@"Query" done:^(NSDictionary *result){
       success([Response create:result]);
	     }];   
}
@end

